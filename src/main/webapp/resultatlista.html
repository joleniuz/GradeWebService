<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
       <link rel="stylesheet" href="style.css" type="text/css"/>
       <link rel="stylesheet" href="style.css" type="text/css">

       <title>Visa Lista</title>
       <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
       <meta name="viewport" content="width=device=width, initial-scale=1.0"/>
        <script src="https://cdn.jsdelivr.net/npm/vue"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.min.js"></script>  
    </head>
    <body>   
        <button 
        onclick="document.location='http://localhost:8080/GradeWebService/index.html'"><-Tillbaka</button>

        <h1> Vue.js - JavaScript Ramverk </h1>   
                <div id="app">
                    <ul>
                        <li v-for="x in todos">
                        {{ x.text }}
                        </li>
                    </ul>
                </div>

     <script>
        myObject = new Vue({
          el: '#app',
          data: {
            todos: [
              { text: 'Learn JavaScript' },
              { text: 'Learn Vue.js' },
              { text: 'Build Something Awesome' }
            ]
          }
        })
    </script>
        <div class="container" id="app-2">
            <p><button v-on:click="loadData()">Ladda Data</button></p>
                <table class="table table-hover table-dark">
                    <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Name</th>
                            <th scope="col">Grade</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="student in canvas">
                            <td>{{ student.id}}</td>
                            <td>{{ student.name}}</td>
                            <td>{{ student.grade}}</td>
                        </tr>    
                    </tbody> 
                </table>
       </div>
            <script>
              
                var app2 =new Vue({
                    el: '#app-2',
                    data: {
                        studenter: []
                    },
                    methods: {
                        loadData: function(){
                            axios.get('http://localhost:8080/GradeWebService/resources/students/joeele-8')
                                    .then(response => {
                                        this.studenter =response.data;
                                console.log(response);
                            })
                             .catch(error => {
                                console.log(error);
                            });
                        }
                    }
                });
            </script>
    </body>
</html>
